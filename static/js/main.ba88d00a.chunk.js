(this["webpackJsonptsp-visualization"]=this["webpackJsonptsp-visualization"]||[]).push([[0],{165:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n(0),i=n.n(a),r=n(23),s=n.n(r),c=(n(165),n(94),n(26)),l=n.n(c),d=n(91),u=n(150),h=n(151),g=n(156),f=n(155),p=n(16),b=n(9),m={zIndex:-9999,pointerEvents:"none",opacity:0,top:"50%"},j={background:"#23C779",color:"white",width:50,height:50,borderRadius:25,fontFamily:"Helvetica",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center"},v={background:"#d90368",color:"white",width:50,height:50,borderRadius:25,fontFamily:"Helvetica",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center"},y={background:"white",color:"#23C779",width:50,height:50,borderRadius:25,fontFamily:"Helvetica",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center"},x={stroke:"#dddddddd",strokeWidth:2},k={stroke:"#23C779",strokeWidth:4},O={stroke:"#d90368",strokeWidth:4},S=function(e,t){return null!=e?e.map((function(e){return Object(p.f)(e)?t.hasOwnProperty(e.id)?Object(b.a)(Object(b.a)({},e),{},{style:k}):Object(b.a)(Object(b.a)({},e),{},{style:x}):t.hasOwnProperty(e.id)?Object(b.a)(Object(b.a)({},e),{},{style:j}):Object(b.a)(Object(b.a)({},e),{},{style:y})})):e},w=n(93),C=n(92),_=n.n(C),N=function(e){var t=new _.a.graphlib.Graph({multigraph:!0});t.setGraph({marginx:50,marginy:50}),t.setDefaultEdgeLabel((function(){return{}})),e.forEach((function(e){t.setNode(e.name,{label:e.name,width:50,height:50}),e.links.forEach((function(n){t.setEdge(e.name,n.name,e.name.toString,n.weight)}))})),_.a.layout(t);var n=function(e){for(var t,n=[],o=2*Math.PI/e,a=0;a<e;a++){t=a*o;var i=400*Math.cos(t),r=400*Math.sin(t);n.push([i,r])}return console.log(n),n}(t.nodeCount()),o=t.nodes().map((function(e){var o=t.node(e);return{id:e,data:{label:e},draggable:!1,style:{background:"white",color:"#23C779",width:50,height:50,borderRadius:25,fontFamily:"Helvetica",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center"},type:"customNode",width:o.width,height:o.height,position:{x:n[e][0]-o.width/2,y:n[e][1]-o.height/2}}})),a=t.edges().map((function(e){return{id:"__".concat(e.v,"__").concat(e.w),points:t.edge(e).points,source:e.w,type:"straight",style:{stroke:"#dddddddd",strokeWidth:2},animated:!1,target:e.v,label:"Weight: "+e.name,labelBgPadding:[8,4],labelBgBorderRadius:5,labelBgStyle:{fill:"#dddddddd"},labelStyle:{fill:"#110A2E",fontWeight:700}}}));return[].concat(Object(w.a)(o),Object(w.a)(a))},P=n(365),M=n(364),E=n(154),D=n.n(E),R={},I={},L={customNode:function(e){var t=e.data;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(p.c,{type:"target",position:"top",style:m}),Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:t.label})}),Object(o.jsx)(p.c,{type:"source",position:"top",style:m})]})}},z=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e){var o;Object(u.a)(this,n),(o=t.call(this,e)).onNodeDragStart=function(e,t){return console.log("drag start",t)},o.onNodeDragStop=function(e,t){return console.log("drag stop",t)},o.onPaneClick=function(e){return console.log("pane click",e)},o.onPaneScroll=function(e){return console.log("pane scroll",e)},o.onPaneContextMenu=function(e){return console.log("pane context menu",e)},o.onSelectionDrag=function(e,t){return console.log("selection drag",t)},o.onSelectionDragStart=function(e,t){return console.log("selection drag start",t)},o.onSelectionDragStop=function(e,t){return console.log("selection drag stop",t)},o.onSelectionContextMenu=function(e,t){e.preventDefault(),console.log("selection context menu",t)},o.onMoveEnd=function(e){return console.log("zoom/move end",e)},o.generateAdjacencyMatrix=function(){for(var e=Math.floor(3*Math.random()+5),t=new Array(e),n=0;n<e;n++)t[n]=[];for(var o=0;o<e;o++)for(var a=0;a<e;a++){var i=Math.floor(10*Math.random()+1);t[o][a]=t[a][o]=o!==a?i:0}return t},o.makeArray=function(e,t,n){for(var o=[],a=0;a<t;a++){o[a]=[];for(var i=0;i<e;i++)o[a][i]=n}return o},o.generateLinkNodeRep=function(e){var t=[];return e.forEach((function(n){for(var a=0;a<n.length;a++){var i={name:a,links:o.getLinks(a,e)};t.push(i)}})),t},o.getLinks=function(e,t){for(var n=[],o=0;o<t[e].length;o++)if(0!==t[e][o]){var a={name:o,weight:t[e][o]};n.push(a)}return n},o.replay=function(){window.location.reload(!1)},o.onElementsRemove=function(e){return o.setState({elements:Object(p.h)(e,o.state.elements)})},o.onConnect=function(e){return o.setState({elements:Object(p.d)(e,o.state.elemetns)})},o.onLoad=function(e){console.log("flow loaded:",e),e.fitView()},o.onSelectionChange=function(e){console.log("selection change",e)},o.onElementClick=function(e,t){console.log("".concat(Object(p.g)(t)?"node":"edge"," click:"),t),null!=t&&(R.hasOwnProperty(t.id)?delete R[t.id]:R[t.id]=1,o.setState({elements:S(o.state.elements,R)}))},o.keepNode=function(e,t){I[o.state.elements[e].id]=1;var n,a,i=o.state.elements.find((function(n){return n.id==="__".concat(e,"__").concat(t)})),r=o.state.elements.find((function(n){return n.id==="__".concat(t,"__").concat(e)}));I[i.id]=1,I[r.id]=1,o.setState({elements:(n=o.state.elements,a=I,null!=n?n.map((function(e){return Object(p.f)(e)?a.hasOwnProperty(e.id)?Object(b.a)(Object(b.a)({},e),{},{style:O}):Object(b.a)(Object(b.a)({},e),{},{style:x}):a.hasOwnProperty(e.id)?Object(b.a)(Object(b.a)({},e),{},{style:v}):Object(b.a)(Object(b.a)({},e),{},{style:y})})):n)})};var a=o.generateAdjacencyMatrix();return o.state={matrix:a,elements:N(o.generateLinkNodeRep(a)),delay:1e3,running:!1},o}return Object(h.a)(n,[{key:"colorNode",value:function(e,t){R[this.state.elements[e].id]=1;var n=this.state.elements.find((function(n){return n.id==="__".concat(e,"__").concat(t)})),o=this.state.elements.find((function(n){return n.id==="__".concat(t,"__").concat(e)}));R[n.id]=1,R[o.id]=1,this.setState({elements:S(this.state.elements,R),message:"Visiting Node ".concat(t," from Node ").concat(e)})}},{key:"deleteNode",value:function(e,t){delete R[this.state.elements[e].id];var n=this.state.elements.find((function(n){return n.id==="__".concat(e,"__").concat(t)})),o=this.state.elements.find((function(n){return n.id==="__".concat(t,"__").concat(e)}));delete R[n.id],delete R[o.id],this.setState({elements:S(this.state.elements,R),message:"Unvisiting Node ".concat(t)})}},{key:"travellingSalesmanProblemHelper",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,o,a,i,r,s,c,d,u,h,g;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length,o=this.makeArray(n,Math.pow(2,n),-1),a=this.makeArray(n,Math.pow(2,n),0),i=(1<<n)-1,e.next=6,this.travellingSalesmanProblem(t,a,o,i,n,1,0);case 6:r=e.sent,s=[],c=0,d=1;case 10:if(s.push(c),0!==(u=a[d][c])){e.next=15;break}return e.abrupt("break",20);case 15:d=d|1<<u,c=u,e.next=10;break;case 20:s.push(0),h=s[0].toString(),g=1;case 23:if(!(g<s.length)){e.next=31;break}return e.next=26,this.sleep(this.state.delay/2);case 26:this.keepNode(s[g-1],s[g]),h=h+" --\x3e "+s[g].toString();case 28:g++,e.next=23;break;case 31:return this.setState({answer:r,path:h,message:"Found Path"}),e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"travellingSalesmanProblem",value:function(){var e=Object(d.a)(l.a.mark((function e(t,n,o,a,i,r,s){var c,d,u,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.running){e.next=35;break}if(r!==a){e.next=9;break}return this.colorNode(s,0),e.next=5,this.sleep(this.state.delay/2);case 5:return this.deleteNode(s,0),e.abrupt("return",t[s][0]);case 9:if(-1===o[r][s]){e.next=11;break}return e.abrupt("return",o[r][s]);case 11:c=Number.MAX_SAFE_INTEGER,d=-1,u=0;case 14:if(!(u<i)){e.next=33;break}if(0!==(r&1<<u)){e.next=30;break}return console.log("Visiting Node ".concat(u," from Node ").concat(s)),this.colorNode(s,u),e.next=20,this.sleep(this.state.delay/2);case 20:return e.t0=t[s][u],e.next=23,this.travellingSalesmanProblem(t,n,o,a,i,r|1<<u,u);case 23:return e.t1=e.sent,(h=e.t0+e.t1)<c&&(d=u,c=h),console.log("Unvisiting Node ".concat(u)),e.next=29,this.sleep(this.state.delay/2);case 29:this.deleteNode(s,u);case 30:u++,e.next=14;break;case 33:return n[r][s]=d,e.abrupt("return",o[r][s]=c);case 35:case"end":return e.stop()}}),e,this)})));return function(t,n,o,a,i,r,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(o.jsx)("div",{style:{background:"#110A2E",height:window.innerHeight},children:Object(o.jsxs)(p.e,{elements:this.state.elements,onElementClick:this.onElementClick,onElementsRemove:this.onElementsRemove,onConnect:this.onConnect,onPaneClick:this.onPaneClick,paneMoveable:!1,onPaneScroll:this.onPaneScroll,onPaneContextMenu:this.onPaneContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragStop:this.onNodeDragStop,onSelectionDragStart:this.onSelectionDragStart,onSelectionDrag:this.onSelectionDrag,onSelectionDragStop:this.onSelectionDragStop,onSelectionContextMenu:this.onSelectionContextMenu,onSelectionChange:this.onSelectionChange,onMoveEnd:this.onMoveEnd,onLoad:this.onLoad,connectionLineType:"straight",nodeTypes:L,children:[Object(o.jsx)(p.b,{}),Object(o.jsx)(p.a,{color:"#ffffff22"}),Object(o.jsxs)("div",{style:{position:"absolute",left:20,top:110,color:"white"},children:["Cost: ",this.state.answer]}),Object(o.jsxs)("div",{style:{position:"absolute",left:20,top:135,color:"white"},children:["Path: ",this.state.path]}),Object(o.jsxs)("div",{style:{position:"absolute",left:20,top:160,color:"white"},children:["Current: ",this.state.message]}),Object(o.jsx)(M.a,{variant:"contained",onClick:function(){e.setState({running:!0},(function(){return e.travellingSalesmanProblemHelper(e.state.matrix)}))},style:{position:"absolute",left:20,top:60,zIndex:4,background:"#23C779",color:"white",paddingLeft:30,paddingRight:30,paddingTop:10,paddingBottom:10,border:"none",borderRadius:4},children:"Start"}),Object(o.jsx)("div",{style:{position:"absolute",left:20,top:185,zIndex:4,width:100,color:"white"},children:"Delay(ms)"}),Object(o.jsx)("div",{style:{position:"absolute",left:20,top:20,zIndex:4,fontSize:25,fontWeight:"bold",color:"white"},children:"Travelling Salesperson Visualizer"}),Object(o.jsx)(P.a,{min:100,max:1500,value:this.state.delay,step:50,style:{color:"#23C779",position:"absolute",left:105,top:180,zIndex:4,width:200},onChange:function(t,n){return e.setState({delay:n})},"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto"}),Object(o.jsx)(M.a,{variant:"contained",onClick:function(){e.replay()},style:{position:"absolute",left:135,top:60,zIndex:4,background:"#d90368",color:"white",paddingLeft:30,paddingRight:30,paddingTop:10,paddingBottom:10,border:"none",borderRadius:4},children:Object(o.jsx)(D.a,{})})]})})}}]),n}(a.Component);var A=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)("div",{style:{height:window.innerHeight},children:Object(o.jsx)(z,{})})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,367)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),o(e),a(e),i(e),r(e)}))};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root")),F()},94:function(e,t,n){}},[[348,1,2]]]);
//# sourceMappingURL=main.ba88d00a.chunk.js.map